<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Araç Kontrol Paneli</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <style>
      /* CSS styles remain the same as before */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
        color: #ffffff;
        height: 100vh;
        overflow: hidden;
        position: relative;
      }
      /* Ana Konteyner */
      .main-container {
        display: flex;
        flex-direction: column;
        height: 100vh;
      }
      /* Üst Bar */
      .top-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 30px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        z-index: 100;
      }
      .clock-section {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        flex: 1;
      }
      .time-display {
        font-size: 32px;
        font-weight: 300;
        letter-spacing: 2px;
      }
      .date-display {
        font-size: 16px;
        opacity: 0.7;
      }
      /* Radio Kontrolleri */
      .radio-controls {
        display: flex;
        align-items: center;
        gap: 15px;
        background: rgba(255, 255, 255, 0.08);
        padding: 10px 20px;
        border-radius: 50px;
      }
      .radio-btn {
        background: none;
        border: none;
        color: #ffffff;
        font-size: 20px;
        cursor: pointer;
        padding: 8px;
        border-radius: 50%;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
      }
      .radio-btn:hover {
        background: rgba(74, 158, 255, 0.3);
        transform: scale(1.1);
      }
      .radio-btn.active {
        background: #4a9eff;
      }
      .volume-slider {
        width: 100px;
        height: 6px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
        outline: none;
        -webkit-appearance: none;
      }
      .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        background: #4a9eff;
        border-radius: 50%;
        cursor: pointer;
      }
      .station-display {
        font-size: 16px;
        font-weight: 500;
        min-width: 120px;
        text-align: center;
      }
      /* Orta Kısım */
      .middle-section {
        display: flex;
        flex: 1;
        overflow: hidden;
      }
      /* Sol Navigasyon */
      .left-nav {
        display: flex;
        flex-direction: column;
        gap: 15px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
      }
      .nav-btn {
        background: rgba(255, 255, 255, 0.08);
        border: none;
        color: #ffffff;
        width: 60px;
        height: 60px;
        border-radius: 15px;
        font-size: 24px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .nav-btn:hover {
        background: rgba(74, 158, 255, 0.3);
        transform: translateY(-2px);
      }
      .nav-btn.active {
        background: #4a9eff;
        box-shadow: 0 5px 20px rgba(74, 158, 255, 0.4);
      }
      /* Orta İçerik */
      .content-area {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        position: relative;
      }
      .content-panel {
        display: none;
        height: 100%;
      }
      .content-panel.active {
        display: block;
      }
      /* Ana Sayfa - Navigasyon Paneli */
      .home-panel {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        gap: 30px;
      }
      .home-logo {
        font-size: 60px;
        color: #4a9eff;
        margin-bottom: 20px;
      }
      .home-radio {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 20px;
        padding: 30px;
        width: 100%;
        max-width: 100%;
        text-align: center;
      }
      .home-radio-title {
        font-size: 24px;
        margin-bottom: 20px;
        color: #4a9eff;
      }
      .home-station-display {
        font-size: 20px;
        margin: 15px 0;
        font-weight: 500;
      }
      .home-frequency-controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
      }
      .home-multimedia-controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
      }
      .home-volume-control {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
      }
      .station-list {
        display: flex;
        gap: 10px;
        overflow-x: auto;
        padding: 10px 0;
        margin-top: 15px;
        scrollbar-width: thin;
        scrollbar-color: #4a9eff rgba(255, 255, 255, 0.1);
      }
      .station-list::-webkit-scrollbar {
        height: 6px;
      }
      .station-list::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
      }
      .station-list::-webkit-scrollbar-thumb {
        background: #4a9eff;
        border-radius: 3px;
      }
      .station-item {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 10px 15px;
        white-space: nowrap;
        cursor: pointer;
        transition: all 0.2s ease;
        min-width: 120px;
      }
      .station-item:hover {
        background: rgba(74, 158, 255, 0.3);
      }
      .station-item.active {
        background: #4a9eff;
      }
      .frequency-input {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        padding: 8px 15px;
        color: white;
        font-size: 16px;
        width: 120px;
        text-align: center;
      }
      .frequency-input:focus {
        outline: none;
        border-color: #4a9eff;
      }
      .search-btn {
        background: #4a9eff;
        border: none;
        color: white;
        padding: 8px 12px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .search-btn:hover {
        background: #3a8eef;
      }
      /* Harita */
      #map {
        height: 100%;
        border-radius: 15px;
        overflow: hidden;
      }
      .map-controls {
        position: absolute;
        top: 20px;
        right: 20px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin: 10px;
      }
      .search-box {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 10px;
        padding: 10px 15px;
        width: 250px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .search-box input {
        border: none;
        background: none;
        outline: none;
        flex: 1;
        color: #333;
      }
      .search-box button {
        background: none;
        border: none;
        color: #4a9eff;
        cursor: pointer;
        font-size: 16px;
      }
      /* Alarm Paneli */
      .alarm-panel {
        display: flex;
        flex-direction: column;
        gap: 20px;
        height: 100%;
      }
      .alarm-form {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .form-group {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 15px;
      }
      .form-group label {
        font-size: 14px;
        opacity: 0.8;
      }
      .form-group input {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        padding: 10px;
        color: white;
        font-size: 16px;
      }
      .form-group input:focus {
        outline: none;
        border-color: #4a9eff;
      }
      .add-alarm-btn {
        background: linear-gradient(135deg, #4a9eff 0%, #0066cc 100%);
        border: none;
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .add-alarm-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(74, 158, 255, 0.4);
      }
      .alarm-list {
        flex: 1;
        overflow-y: auto;
      }
      .alarm-item {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      /* Sensör Paneli */
      .sensor-panel {
        display: flex;
        flex-direction: column;
        height: 100%;
        gap: 20px;
        overflow-y: auto;
      }
      .sensor-section {
        flex: 1;
      }
      .sensor-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }
      .sensor-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .sensor-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }
      .sensor-icon {
        font-size: 36px;
        color: #4a9eff;
        margin-bottom: 10px;
      }
      .sensor-value {
        font-size: 32px;
        font-weight: 600;
        margin: 10px 0;
      }
      .sensor-label {
        font-size: 14px;
        opacity: 0.7;
      }
      .sensor-card.warning {
        border-color: #ff6b6b;
        background: rgba(255, 107, 107, 0.1);
      }
      .sensor-card.warning .sensor-icon,
      .sensor-card.warning .sensor-value {
        color: #ff6b6b;
      }
      /* Hata Paneli */
      .error-section {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .error-section h3 {
        margin-bottom: 15px;
        color: #ff6b6b;
      }
      .error-list {
        max-height: 300px;
        overflow-y: auto;
      }
      .error-item {
        background: rgba(255, 107, 107, 0.1);
        border-left: 4px solid #ff6b6b;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
      }
      .error-title {
        font-weight: 600;
        margin-bottom: 5px;
        color: #ff6b6b;
      }
      .error-description {
        font-size: 14px;
        opacity: 0.8;
      }
      .error-time {
        font-size: 12px;
        opacity: 0.6;
        margin-top: 5px;
        text-align: right;
      }
      /* Medya Player Paneli */
      .media-panel {
        display: flex;
        flex-direction: column;
        gap: 20px;
        height: 100%;
      }
      .media-player {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .media-cover {
        width: 200px;
        height: 200px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        margin: 0 auto 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        color: rgba(255, 255, 255, 0.3);
      }
      .media-info {
        text-align: center;
        margin-bottom: 20px;
      }
      .media-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 5px;
      }
      .media-artist {
        font-size: 16px;
        opacity: 0.7;
      }
      .media-controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
        margin: 20px 0;
      }
      .media-progress {
        height: 6px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
        margin: 15px 0;
        position: relative;
      }
      .media-progress-bar {
        height: 100%;
        width: 30%;
        background: #4a9eff;
        border-radius: 3px;
      }
      .media-time {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        opacity: 0.7;
      }
      .media-playlist {
        flex: 1;
        overflow-y: auto;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        padding: 15px;
      }
      .playlist-item {
        display: flex;
        align-items: center;
        padding: 10px;
        border-radius: 8px;
        margin-bottom: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .playlist-item:hover {
        background: rgba(255, 255, 255, 0.1);
      }
      .playlist-item.active {
        background: rgba(74, 158, 255, 0.2);
      }
      .playlist-icon {
        margin-right: 15px;
        font-size: 18px;
        color: #4a9eff;
      }
      .playlist-info {
        flex: 1;
      }
      .playlist-title {
        font-weight: 500;
      }
      .playlist-artist {
        font-size: 12px;
        opacity: 0.7;
      }
      .playlist-duration {
        font-size: 12px;
        opacity: 0.7;
      }
      /* Sağ Kontroller */
      .right-controls {
        display: flex;
        flex-direction: column;
        gap: 15px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border-left: 1px solid rgba(255, 255, 255, 0.1);
      }
      .control-btn {
        background: rgba(255, 255, 255, 0.08);
        border: none;
        color: #ffffff;
        width: 60px;
        height: 60px;
        border-radius: 15px;
        font-size: 24px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .control-btn:hover {
        background: rgba(74, 158, 255, 0.3);
        transform: translateY(-2px);
      }
      .control-btn.active {
        background: #4a9eff;
        box-shadow: 0 5px 20px rgba(74, 158, 255, 0.4);
      }
      /* Alt Sensör Çubuğu */
      .bottom-sensor-bar {
        display: flex;
        justify-content: space-around;
        align-items: center;
        padding: 15px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
      .compact-sensor {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5px;
      }
      .compact-sensor-icon {
        font-size: 24px;
        color: #4a9eff;
      }
      .compact-sensor-value {
        font-size: 18px;
        font-weight: 600;
      }
      .compact-sensor.warning .compact-sensor-icon,
      .compact-sensor.warning .compact-sensor-value {
        color: #ff6b6b;
      }
      /* Hata Bildirimi */
      .error-notification {
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(135deg, #ff6b6b 0%, #cc0000 100%);
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        display: none;
        align-items: center;
        gap: 10px;
        box-shadow: 0 5px 20px rgba(255, 107, 107, 0.3);
        animation: slideIn 0.3s ease;
        z-index: 1000;
      }
      .error-notification.show {
        display: flex;
      }
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      /* Ayarlar Paneli */
      .settings-panel {
        display: flex;
        flex-direction: column;
        gap: 20px;
        max-width: 100%;
        margin: 0 auto;
      }
      .settings-group {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .settings-group h3 {
        margin-bottom: 15px;
        color: #4a9eff;
      }
      .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        width: 100%;
      }
      .setting-item:last-child {
        margin-bottom: 0;
      }
      /* Toggle Switch */
      .toggle-switch {
        width: 50px;
        height: 26px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 13px;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .toggle-switch.active {
        background: #4a9eff;
      }
      .toggle-switch::after {
        content: "";
        position: absolute;
        width: 22px;
        height: 22px;
        background: white;
        border-radius: 50%;
        top: 2px;
        left: 2px;
        transition: all 0.3s ease;
      }
      .toggle-switch.active::after {
        left: 26px;
      }
      .alarm-toggle {
        width: 50px;
        height: 26px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 13px;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .alarm-toggle.active {
        background: #4a9eff;
      }
      .alarm-toggle::after {
        content: "";
        position: absolute;
        width: 22px;
        height: 22px;
        background: white;
        border-radius: 50%;
        top: 2px;
        left: 2px;
        transition: all 0.3s ease;
      }
      .alarm-toggle.active::after {
        left: 26px;
      }
      /* Responsive */
      @media (max-width: 768px) {
        .middle-section {
          flex-direction: column;
        }
        .left-nav,
        .right-controls {
          flex-direction: row;
          padding: 10px;
        }
        .nav-btn,
        .control-btn {
          width: 50px;
          height: 50px;
          font-size: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <!-- Üst Bar -->
      <div class="top-bar" id="topBar">
        <div class="clock-section">
          <div class="time-display" id="timeDisplay">14:30:25</div>
          <div class="date-display" id="dateDisplay">15 Kasım 2023</div>
        </div>
        <div class="radio-controls" id="topRadioControls" style="display: none">
          <button class="radio-btn" onclick="previousStation()">
            <i class="fas fa-backward"></i>
          </button>
          <button class="radio-btn active" id="playBtn" onclick="togglePlay()">
            <i class="fas fa-pause"></i>
          </button>
          <button class="radio-btn" onclick="nextStation()">
            <i class="fas fa-forward"></i>
          </button>
          <button class="radio-btn" onclick="scanStations()">
            <i class="fas fa-search"></i>
          </button>
          <div class="station-display" id="stationDisplay">Power FM 98.5</div>
          <input
            type="range"
            class="volume-slider"
            id="volumeSlider"
            min="0"
            max="100"
            value="70"
            onchange="updateVolume(this.value)"
          />
        </div>
      </div>
      <!-- Orta Kısım -->
      <div class="middle-section">
        <!-- Sol Navigasyon -->
        <div class="left-nav">
          <button
            class="nav-btn active"
            onclick="showPanel('home')"
            title="Ana Sayfa"
          >
            <i class="fas fa-home"></i>
          </button>
          <button
            class="nav-btn"
            onclick="showPanel('navigation')"
            title="Navigasyon"
          >
            <i class="fas fa-map-marked-alt"></i>
          </button>
          <button class="nav-btn" onclick="showPanel('alarm')" title="Alarm">
            <i class="fas fa-bell"></i>
          </button>
          <button
            class="nav-btn"
            onclick="showPanel('sensor')"
            title="Sensör Verileri"
          >
            <i class="fas fa-tachometer-alt"></i>
          </button>
          <button class="nav-btn" onclick="showPanel('media')" title="Medya">
            <i class="fas fa-music"></i>
          </button>
          <button
            class="nav-btn"
            onclick="showPanel('settings')"
            title="Ayarlar"
          >
            <i class="fas fa-cog"></i>
          </button>
        </div>
        <!-- Orta İçerik -->
        <div class="content-area">
          <!-- Ana Sayfa Paneli -->
          <div class="content-panel active" id="home-panel">
            <div class="home-panel">
              <div class="home-logo">
                <i class="fas fa-broadcast-tower"></i>
              </div>
              <div class="home-radio">
                <div class="home-station-display" id="homeStationDisplay">
                  Power FM 98.5
                </div>

                <div class="home-frequency-controls">
                  <button class="radio-btn" onclick="scanStations()">
                    <i class="fas fa-search"></i>
                  </button>
                  <input
                    type="text"
                    class="frequency-input"
                    placeholder="98.5"
                    id="frequencyInput"
                  />
                  <button class="search-btn" onclick="searchFrequency()">
                    <i class="fas fa-check"></i>
                  </button>
                </div>

                <div class="home-multimedia-controls">
                  <button class="radio-btn" onclick="previousStation()">
                    <i class="fas fa-backward"></i>
                  </button>
                  <button
                    class="radio-btn active"
                    id="homePlayBtn"
                    onclick="togglePlay()"
                  >
                    <i class="fas fa-pause"></i>
                  </button>
                  <button class="radio-btn" onclick="nextStation()">
                    <i class="fas fa-forward"></i>
                  </button>
                </div>

                <div class="home-volume-control">
                  <i class="fas fa-volume-down"></i>
                  <input
                    type="range"
                    class="volume-slider"
                    id="homeVolumeSlider"
                    min="0"
                    max="100"
                    value="70"
                    onchange="updateVolume(this.value)"
                  />
                  <i class="fas fa-volume-up"></i>
                </div>

                <div class="station-list" id="stationList">
                  <div class="station-item active" onclick="selectStation(0)">
                    Power FM 98.5
                  </div>
                  <div class="station-item" onclick="selectStation(1)">
                    Best FM 95.7
                  </div>
                  <div class="station-item" onclick="selectStation(2)">
                    Number 1 FM 92.0
                  </div>
                  <div class="station-item" onclick="selectStation(3)">
                    Radyo D 90.8
                  </div>
                  <div class="station-item" onclick="selectStation(4)">
                    Joy FM 94.3
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Navigasyon Paneli -->
          <div class="content-panel" id="navigation-panel">
            <div id="map"></div>
            <div class="map-controls">
              <div class="search-box">
                <input
                  type="text"
                  placeholder="Yer arama..."
                  id="locationSearch"
                />
                <button onclick="searchLocation()">
                  <i class="fas fa-search"></i>
                </button>
              </div>
            </div>
          </div>
          <!-- Alarm Paneli -->
          <div class="content-panel" id="alarm-panel">
            <div class="alarm-panel">
              <div class="alarm-form">
                <h3>Yeni Alarm Ekle</h3>
                <div class="form-group">
                  <label>Alarm Saati</label>
                  <input type="time" id="alarmTime" />
                </div>
                <div class="form-group">
                  <label>Alarm Adı</label>
                  <input
                    type="text"
                    id="alarmName"
                    placeholder="Örn: Sabah Alarmı"
                  />
                </div>
                <button class="add-alarm-btn" onclick="addAlarm()">
                  <i class="fas fa-plus"></i> Alarm Ekle
                </button>
              </div>
              <div class="alarm-list" id="alarmList">
                <div class="alarm-item">
                  <div><strong>07:00</strong> - Sabah Alarmı</div>
                  <div
                    class="alarm-toggle active"
                    onclick="toggleAlarm(this)"
                  ></div>
                </div>
                <div class="alarm-item">
                  <div><strong>18:00</strong> - Akşam Hatırlatıcı</div>
                  <div class="alarm-toggle" onclick="toggleAlarm(this)"></div>
                </div>
              </div>
            </div>
          </div>
          <!-- Sensör Paneli -->
          <div class="content-panel" id="sensor-panel">
            <div class="sensor-panel">
              <div class="sensor-section">
                <h3 style="margin-bottom: 15px; color: #4a9eff">
                  Sensör Verileri
                </h3>
                <div class="sensor-grid">
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-gauge-high"></i>
                    </div>
                    <div class="sensor-value" id="turboPressure">1.2 bar</div>
                    <div class="sensor-label">Turbo Basıncı</div>
                  </div>
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-wind"></i>
                    </div>
                    <div class="sensor-value" id="airFuelRatio">14.7:1</div>
                    <div class="sensor-label">Hava Yakıt Karışımı</div>
                  </div>
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-sync-alt"></i>
                    </div>
                    <div class="sensor-value" id="rpm">2500</div>
                    <div class="sensor-label">Devir (RPM)</div>
                  </div>
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <div class="sensor-value" id="speed">85</div>
                    <div class="sensor-label">Hız (km/h)</div>
                  </div>
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-gas-pump"></i>
                    </div>
                    <div class="sensor-value" id="fuelConsumption">
                      7.2 L/100km
                    </div>
                    <div class="sensor-label">Yakıt Tüketimi</div>
                  </div>
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-weight-hanging"></i>
                    </div>
                    <div class="sensor-value" id="motorLoad">65%</div>
                    <div class="sensor-label">Motor Yükü</div>
                  </div>
                  <div class="sensor-card warning" id="motorTempCard">
                    <div class="sensor-icon">
                      <i class="fas fa-temperature-high"></i>
                    </div>
                    <div class="sensor-value" id="motorTemp">105°C</div>
                    <div class="sensor-label">Motor Sıcaklığı</div>
                  </div>
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-oil-can"></i>
                    </div>
                    <div class="sensor-value" id="oilTemp">92°C</div>
                    <div class="sensor-label">Yağ Sıcaklığı</div>
                  </div>
                  <div class="sensor-card">
                    <div class="sensor-icon">
                      <i class="fas fa-battery-three-quarters"></i>
                    </div>
                    <div class="sensor-value" id="batteryVoltage">12.6V</div>
                    <div class="sensor-label">Akü Voltaj</div>
                  </div>
                </div>
              </div>

              <div class="error-section">
                <h3>Araç Hata Kodları</h3>
                <div class="error-list" id="errorList">
                  <!-- Hata kodları API ile doldurulacak -->
                </div>
              </div>
            </div>
          </div>
          <!-- Medya Paneli -->
          <div class="content-panel" id="media-panel">
            <div class="media-panel">
              <div class="media-player">
                <div class="media-cover">
                  <i class="fas fa-music"></i>
                </div>
                <div class="media-info">
                  <div class="media-title">Bohemian Rhapsody</div>
                  <div class="media-artist">Queen</div>
                </div>
                <div class="media-controls">
                  <button class="radio-btn">
                    <i class="fas fa-random"></i>
                  </button>
                  <button class="radio-btn">
                    <i class="fas fa-step-backward"></i>
                  </button>
                  <button class="radio-btn active">
                    <i class="fas fa-pause"></i>
                  </button>
                  <button class="radio-btn">
                    <i class="fas fa-step-forward"></i>
                  </button>
                  <button class="radio-btn">
                    <i class="fas fa-redo"></i>
                  </button>
                </div>
                <div class="media-progress">
                  <div class="media-progress-bar"></div>
                </div>
                <div class="media-time">
                  <span>1:45</span>
                  <span>5:55</span>
                </div>
                <div class="home-volume-control">
                  <i class="fas fa-volume-down"></i>
                  <input
                    type="range"
                    class="volume-slider"
                    id="mediaVolumeSlider"
                    min="0"
                    max="100"
                    value="70"
                    onchange="updateVolume(this.value)"
                  />
                  <i class="fas fa-volume-up"></i>
                </div>
              </div>
              <div class="media-playlist">
                <h3>Çalma Listesi</h3>
                <div class="playlist-item active">
                  <div class="playlist-icon">
                    <i class="fas fa-music"></i>
                  </div>
                  <div class="playlist-info">
                    <div class="playlist-title">Bohemian Rhapsody</div>
                    <div class="playlist-artist">Queen</div>
                  </div>
                  <div class="playlist-duration">5:55</div>
                </div>
                <div class="playlist-item">
                  <div class="playlist-icon">
                    <i class="fas fa-music"></i>
                  </div>
                  <div class="playlist-info">
                    <div class="playlist-title">Hotel California</div>
                    <div class="playlist-artist">Eagles</div>
                  </div>
                  <div class="playlist-duration">6:30</div>
                </div>
                <div class="playlist-item">
                  <div class="playlist-icon">
                    <i class="fas fa-music"></i>
                  </div>
                  <div class="playlist-info">
                    <div class="playlist-title">Stairway to Heaven</div>
                    <div class="playlist-artist">Led Zeppelin</div>
                  </div>
                  <div class="playlist-duration">8:02</div>
                </div>
                <div class="playlist-item">
                  <div class="playlist-icon">
                    <i class="fas fa-music"></i>
                  </div>
                  <div class="playlist-info">
                    <div class="playlist-title">Sweet Child O' Mine</div>
                    <div class="playlist-artist">Guns N' Roses</div>
                  </div>
                  <div class="playlist-duration">5:56</div>
                </div>
                <div class="playlist-item">
                  <div class="playlist-icon">
                    <i class="fas fa-music"></i>
                  </div>
                  <div class="playlist-info">
                    <div class="playlist-title">Smells Like Teen Spirit</div>
                    <div class="playlist-artist">Nirvana</div>
                  </div>
                  <div class="playlist-duration">5:01</div>
                </div>
              </div>
            </div>
          </div>
          <!-- Ayarlar Paneli -->
          <div class="content-panel" id="settings-panel">
            <div class="settings-panel">
              <div class="settings-group">
                <h3>Genel Ayarlar</h3>
                <div class="setting-item">
                  <span>Dil</span>
                  <select
                    style="
                      background: rgba(255, 255, 255, 0.1);
                      border: 1px solid rgba(255, 255, 255, 0.2);
                      color: white;
                      padding: 5px;
                      border-radius: 5px;
                      width: 150px;
                    "
                  >
                    <option>Türkçe</option>
                    <option>English</option>
                    <option>Deutsch</option>
                    <option>Français</option>
                  </select>
                </div>
                <div class="setting-item">
                  <span>Tema</span>
                  <select
                    style="
                      background: rgba(255, 255, 255, 0.1);
                      border: 1px solid rgba(255, 255, 255, 0.2);
                      color: white;
                      padding: 5px;
                      border-radius: 5px;
                      width: 150px;
                    "
                  >
                    <option>Koyu</option>
                    <option>Açık</option>
                    <option>Otomatik</option>
                  </select>
                </div>
              </div>
              <div class="settings-group">
                <h3>Ekran Ayarları</h3>
                <div class="setting-item">
                  <span>Parlaklık</span>
                  <input
                    type="range"
                    min="0"
                    max="100"
                    value="80"
                    style="width: 150px"
                  />
                </div>
                <div class="setting-item">
                  <span>Otomatik Parlaklık</span>
                  <div
                    class="toggle-switch active"
                    onclick="toggleControl(this)"
                  ></div>
                </div>
              </div>
              <div class="settings-group">
                <h3>Ses Ayarları</h3>
                <div class="setting-item">
                  <span>Bass</span>
                  <input
                    type="range"
                    min="0"
                    max="100"
                    value="50"
                    style="width: 150px"
                  />
                </div>
                <div class="setting-item">
                  <span>Treble</span>
                  <input
                    type="range"
                    min="0"
                    max="100"
                    value="50"
                    style="width: 150px"
                  />
                </div>
              </div>
              <div class="settings-group">
                <h3>Birim Ayarları</h3>
                <div class="setting-item">
                  <span>Hız Birimi</span>
                  <select
                    style="
                      background: rgba(255, 255, 255, 0.1);
                      border: 1px solid rgba(255, 255, 255, 0.2);
                      color: white;
                      padding: 5px;
                      border-radius: 5px;
                      width: 150px;
                    "
                  >
                    <option>km/h</option>
                    <option>mph</option>
                  </select>
                </div>
                <div class="setting-item">
                  <span>Sıcaklık Birimi</span>
                  <select
                    style="
                      background: rgba(255, 255, 255, 0.1);
                      border: 1px solid rgba(255, 255, 255, 0.2);
                      color: white;
                      padding: 5px;
                      border-radius: 5px;
                      width: 150px;
                    "
                  >
                    <option>°C</option>
                    <option>°F</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Sağ Kontroller -->
        <div class="right-controls">
          <button
            class="control-btn active"
            onclick="toggleControl(this, 'light')"
            title="Aydınlatma"
          >
            <i class="fas fa-lightbulb"></i>
          </button>
          <button
            class="control-btn"
            onclick="toggleControl(this, 'seat_heating')"
            title="Koltuk Isıtma"
          >
            <i class="fas fa-chair"></i>
          </button>
          <button
            class="control-btn"
            onclick="toggleControl(this, 'seat_cooling')"
            title="Koltuk Soğutma"
          >
            <i class="fas fa-snowflake"></i>
          </button>
          <button
            class="control-btn"
            onclick="toggleControl(this, 'steering_heating')"
            title="Direksiyon Isıtma"
          >
            <i class="fas fa-compass"></i>
          </button>
          <button
            class="control-btn"
            onclick="toggleControl(this, 'spotlight')"
            title="Spot Lambası"
          >
            <i class="fas fa-lightbulb"></i>
          </button>
          <button
            class="control-btn"
            onclick="toggleControl(this, 'screen_switch')"
            title="Ekran Geçişi"
          >
            <i class="fas fa-desktop"></i>
          </button>
        </div>
      </div>
      <!-- Alt Sensör Çubuğu -->
      <div class="bottom-sensor-bar">
        <div class="compact-sensor" id="compactTurbo">
          <div class="compact-sensor-icon">
            <i class="fas fa-gauge-high"></i>
          </div>
          <div class="compact-sensor-value">1.2</div>
        </div>
        <div class="compact-sensor" id="compactFuel">
          <div class="compact-sensor-icon">
            <i class="fas fa-gas-pump"></i>
          </div>
          <div class="compact-sensor-value">7.2</div>
        </div>
        <div class="compact-sensor" id="compactLoad">
          <div class="compact-sensor-icon">
            <i class="fas fa-weight-hanging"></i>
          </div>
          <div class="compact-sensor-value">65%</div>
        </div>
        <div class="compact-sensor warning" id="compactMotor">
          <div class="compact-sensor-icon">
            <i class="fas fa-temperature-high"></i>
          </div>
          <div class="compact-sensor-value">105°</div>
        </div>
        <div class="compact-sensor" id="compactOil">
          <div class="compact-sensor-icon">
            <i class="fas fa-oil-can"></i>
          </div>
          <div class="compact-sensor-value">92°</div>
        </div>
        <div class="compact-sensor" id="compactBattery">
          <div class="compact-sensor-icon">
            <i class="fas fa-battery-three-quarters"></i>
          </div>
          <div class="compact-sensor-value">12.6</div>
        </div>
      </div>
    </div>
    <!-- Hata Bildirimi -->
    <div class="error-notification" id="errorNotification">
      <i class="fas fa-exclamation-triangle"></i>
      <span id="errorMessage">Motor sıcaklığı kritik seviyede!</span>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script>
      // WebSocket bağlantısı
      const socket = io();

      // API Base URL
      const API_BASE = "http://localhost:5000/api";

      // Global variables
      let map;
      let radioData = {
        stations: [
          { name: "Power FM 98.5", freq: "98.5" },
          { name: "Best FM 95.7", freq: "95.7" },
          { name: "Number 1 FM 92.0", freq: "92.0" },
          { name: "Radyo D 90.8", freq: "90.8" },
          { name: "Joy FM 94.3", freq: "94.3" },
        ],
        currentStationIndex: 0,
        isPlaying: true,
      };

      // Harita başlatma
      function initMaps() {
        map = L.map("map").setView([41.0082, 28.9784], 13);
        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
          attribution: "© OpenStreetMap contributors",
        }).addTo(map);
      }

      // Panel geçişleri
      function showPanel(panelName) {
        // Tüm panelleri gizle
        document.querySelectorAll(".content-panel").forEach((panel) => {
          panel.classList.remove("active");
        });
        // Tüm nav butonlarını pasif yap
        document.querySelectorAll(".nav-btn").forEach((btn) => {
          btn.classList.remove("active");
        });
        // Seçilen paneli göster
        document.getElementById(panelName + "-panel").classList.add("active");
        // Seçilen nav butonunu aktif yap
        event.target.closest(".nav-btn").classList.add("active");

        // Üst bardaki radio kontrollerini göster/gizle
        const topRadioControls = document.getElementById("topRadioControls");
        const clockSection = document.querySelector(".clock-section");

        if (panelName === "home") {
          topRadioControls.style.display = "none";
          clockSection.style.justifyContent = "center";
        } else {
          topRadioControls.style.display = "flex";
          clockSection.style.justifyContent = "flex-start";
        }

        // Haritayı yeniden boyutlandır
        if (panelName === "navigation" && map) {
          setTimeout(() => map.invalidateSize(), 100);
        }
      }

      // Saat güncelleme
      function updateClock() {
        const now = new Date();
        const timeString = now.toLocaleTimeString("tr-TR", { hour12: false });
        const dateString = now.toLocaleDateString("tr-TR", {
          year: "numeric",
          month: "long",
          day: "numeric",
        });
        document.getElementById("timeDisplay").textContent = timeString;
        document.getElementById("dateDisplay").textContent = dateString;
      }

      // Radio kontrolleri
      function updateStationDisplay() {
        document.getElementById("stationDisplay").textContent =
          radioData.stations[radioData.currentStationIndex].name;
        document.getElementById("homeStationDisplay").textContent =
          radioData.stations[radioData.currentStationIndex].name;
        document.getElementById("frequencyInput").value =
          radioData.stations[radioData.currentStationIndex].freq;

        // Kanal listesini güncelle
        document.querySelectorAll(".station-item").forEach((item, index) => {
          if (index === radioData.currentStationIndex) {
            item.classList.add("active");
          } else {
            item.classList.remove("active");
          }
        });
      }

      function selectStation(index) {
        radioData.currentStationIndex = index;
        updateStationDisplay();

        // WebSocket üzerinden gönder
        socket.emit("radio_change", { station: index });
      }

      function previousStation() {
        radioData.currentStationIndex =
          (radioData.currentStationIndex - 1 + radioData.stations.length) %
          radioData.stations.length;
        updateStationDisplay();
        selectStation(radioData.currentStationIndex);
      }

      function nextStation() {
        radioData.currentStationIndex =
          (radioData.currentStationIndex + 1) % radioData.stations.length;
        updateStationDisplay();
        selectStation(radioData.currentStationIndex);
      }

      function scanStations() {
        let scanIndex = 0;
        const scanInterval = setInterval(() => {
          radioData.currentStationIndex = scanIndex;
          updateStationDisplay();
          scanIndex++;
          if (scanIndex >= radioData.stations.length) {
            clearInterval(scanInterval);
          }
        }, 1000);
      }

      function togglePlay() {
        radioData.isPlaying = !radioData.isPlaying;
        const playBtn = document.getElementById("playBtn");
        const homePlayBtn = document.getElementById("homePlayBtn");
        const playIcon = radioData.isPlaying
          ? '<i class="fas fa-pause"></i>'
          : '<i class="fas fa-play"></i>';

        if (playBtn) playBtn.innerHTML = playIcon;
        if (homePlayBtn) homePlayBtn.innerHTML = playIcon;

        // WebSocket üzerinden gönder
        socket.emit("radio_change", { playing: radioData.isPlaying });
      }

      function updateVolume(value) {
        // Tüm ses kontrol kaydırıcılarını güncelle
        document.getElementById("volumeSlider").value = value;
        document.getElementById("homeVolumeSlider").value = value;
        document.getElementById("mediaVolumeSlider").value = value;

        // WebSocket üzerinden gönder
        socket.emit("radio_change", { volume: parseInt(value) });
      }

      // FM Frekansı arama
      function searchFrequency() {
        const freq = document.getElementById("frequencyInput").value;
        // Örnek olarak frekansı güncelle
        document.getElementById(
          "homeStationDisplay"
        ).textContent = `FM ${freq}`;
      }

      // Yer arama fonksiyonu
      function searchLocation() {
        const searchTerm = document.getElementById("locationSearch").value;
        if (searchTerm) {
          // Örnek olarak İstanbul'a zoom yapalım
          map.setView([41.0082, 28.9784], 13);

          // Arama sonuçları için marker ekle
          L.marker([41.0082, 28.9784])
            .addTo(map)
            .bindPopup(searchTerm)
            .openPopup();
        }
      }

      // Kontrol butonları
      function toggleControl(element, controlName) {
        element.classList.toggle("active");
        const state = element.classList.contains("active");

        // WebSocket üzerinden gönder
        socket.emit("control_change", { control: controlName, state: state });
      }

      // Alarm fonksiyonları
      function addAlarm() {
        const time = document.getElementById("alarmTime").value;
        const name = document.getElementById("alarmName").value;

        if (time && name) {
          const alarmList = document.getElementById("alarmList");
          const newAlarm = document.createElement("div");
          newAlarm.className = "alarm-item";
          newAlarm.innerHTML = `
            <div><strong>${time}</strong> - ${name}</div>
            <div class="alarm-toggle active" onclick="toggleAlarm(this)"></div>
          `;
          alarmList.appendChild(newAlarm);

          // Formu temizle
          document.getElementById("alarmTime").value = "";
          document.getElementById("alarmName").value = "";
        }
      }

      function toggleAlarm(element) {
        element.classList.toggle("active");
      }

      // Kontrol butonlarını güncelleme fonksiyonu
      function updateControlButton(controlName, state) {
        const controlButtons = document.querySelectorAll(".control-btn");
        controlButtons.forEach((btn) => {
          const title = btn.getAttribute("title");
          if (
            title &&
            title.toLowerCase().includes(controlName.replace("_", " "))
          ) {
            if (state) {
              btn.classList.add("active");
            } else {
              btn.classList.remove("active");
            }
          }
        });
      }

      // WebSocket olay dinleyicileri
      socket.on("connect", function () {
        console.log("WebSocket bağlantısı kuruldu");
      });

      socket.on("sensor_update", function (data) {
        // Sensör verilerini güncelle
        document.getElementById("turboPressure").textContent =
          data.turbo_pressure + " bar";
        document.getElementById("airFuelRatio").textContent =
          data.air_fuel_ratio + ":1";
        document.getElementById("rpm").textContent = data.rpm;
        document.getElementById("speed").textContent = data.speed;
        document.getElementById("fuelConsumption").textContent =
          data.fuel_consumption + " L/100km";
        document.getElementById("motorLoad").textContent =
          data.motor_load + "%";
        document.getElementById("motorTemp").textContent =
          data.motor_temp + "°C";
        document.getElementById("oilTemp").textContent = data.oil_temp + "°C";
        document.getElementById("batteryVoltage").textContent =
          data.battery_voltage + "V";

        // Alt sensör çubuğunu güncelle
        document.querySelector(
          "#compactTurbo .compact-sensor-value"
        ).textContent = data.turbo_pressure;
        document.querySelector(
          "#compactFuel .compact-sensor-value"
        ).textContent = data.fuel_consumption;
        document.querySelector(
          "#compactLoad .compact-sensor-value"
        ).textContent = data.motor_load + "%";
        document.querySelector(
          "#compactMotor .compact-sensor-value"
        ).textContent = data.motor_temp + "°";
        document.querySelector(
          "#compactOil .compact-sensor-value"
        ).textContent = data.oil_temp + "°";
        document.querySelector(
          "#compactBattery .compact-sensor-value"
        ).textContent = data.battery_voltage;

        // Motor sıcaklığı uyarısı
        const motorTempCard = document.getElementById("motorTempCard");
        const compactMotor = document.getElementById("compactMotor");

        if (data.motor_temp > 100) {
          motorTempCard.classList.add("warning");
          compactMotor.classList.add("warning");
        } else {
          motorTempCard.classList.remove("warning");
          compactMotor.classList.remove("warning");
        }
      });

      socket.on("error_update", function (errors) {
        const errorList = document.getElementById("errorList");
        errorList.innerHTML = "";

        errors.forEach((error) => {
          const errorItem = document.createElement("div");
          errorItem.className = "error-item";
          errorItem.innerHTML = `
            <div class="error-title">${error.code} - ${error.title}</div>
            <div class="error-description">${error.description}</div>
            <div class="error-time">${error.time}</div>
          `;
          errorList.appendChild(errorItem);
        });
      });

      socket.on("control_update", function (data) {
        // Kontrol butonlarını güncelle
        if (data.control && data.state !== undefined) {
          updateControlButton(data.control, data.state);
        }
      });

      socket.on("radio_update", function (data) {
        // Radyo verilerini güncelle
        if (data.current_station !== undefined) {
          radioData.currentStationIndex = data.current_station;
        }
        if (data.is_playing !== undefined) {
          radioData.isPlaying = data.is_playing;
        }

        // Ses seviyesini güncelle
        if (data.volume !== undefined) {
          document.getElementById("volumeSlider").value = data.volume;
          document.getElementById("homeVolumeSlider").value = data.volume;
          document.getElementById("mediaVolumeSlider").value = data.volume;
        }

        updateStationDisplay();

        // Play/Pause butonunu güncelle
        const playBtn = document.getElementById("playBtn");
        const homePlayBtn = document.getElementById("homePlayBtn");
        const playIcon = radioData.isPlaying
          ? '<i class="fas fa-pause"></i>'
          : '<i class="fas fa-play"></i>';

        if (playBtn) playBtn.innerHTML = playIcon;
        if (homePlayBtn) homePlayBtn.innerHTML = playIcon;
      });

      socket.on("alert", function (data) {
        // Hata bildirimini göster
        const notification = document.getElementById("errorNotification");
        const errorMessage = document.getElementById("errorMessage");

        errorMessage.textContent = data.message;
        notification.classList.add("show");

        // 5 saniye sonra bildirim gizle
        setTimeout(() => {
          notification.classList.remove("show");
        }, 5000);
      });

      // Sayfa yüklendiğinde
      document.addEventListener("DOMContentLoaded", function () {
        // Haritayı başlat
        initMaps();

        // Saati güncelle
        updateClock();
        setInterval(updateClock, 1000);

        // Başlangıç verilerini al
        fetch(`${API_BASE}/sensors`)
          .then((response) => response.json())
          .then((data) => {
            // Sensör verilerini güncelle
            document.getElementById("turboPressure").textContent =
              data.turbo_pressure + " bar";
            document.getElementById("airFuelRatio").textContent =
              data.air_fuel_ratio + ":1";
            document.getElementById("rpm").textContent = data.rpm;
            document.getElementById("speed").textContent = data.speed;
            document.getElementById("fuelConsumption").textContent =
              data.fuel_consumption + " L/100km";
            document.getElementById("motorLoad").textContent =
              data.motor_load + "%";
            document.getElementById("motorTemp").textContent =
              data.motor_temp + "°C";
            document.getElementById("oilTemp").textContent =
              data.oil_temp + "°C";
            document.getElementById("batteryVoltage").textContent =
              data.battery_voltage + "V";

            // Alt sensör çubuğunu güncelle
            document.querySelector(
              "#compactTurbo .compact-sensor-value"
            ).textContent = data.turbo_pressure;
            document.querySelector(
              "#compactFuel .compact-sensor-value"
            ).textContent = data.fuel_consumption;
            document.querySelector(
              "#compactLoad .compact-sensor-value"
            ).textContent = data.motor_load + "%";
            document.querySelector(
              "#compactMotor .compact-sensor-value"
            ).textContent = data.motor_temp + "°";
            document.querySelector(
              "#compactOil .compact-sensor-value"
            ).textContent = data.oil_temp + "°";
            document.querySelector(
              "#compactBattery .compact-sensor-value"
            ).textContent = data.battery_voltage;
          });

        // Hata kodlarını al
        fetch(`${API_BASE}/errors`)
          .then((response) => response.json())
          .then((errors) => {
            const errorList = document.getElementById("errorList");
            errorList.innerHTML = "";

            errors.forEach((error) => {
              const errorItem = document.createElement("div");
              errorItem.className = "error-item";
              errorItem.innerHTML = `
                <div class="error-title">${error.code} - ${error.title}</div>
                <div class="error-description">${error.description}</div>
                <div class="error-time">${error.time}</div>
              `;
              errorList.appendChild(errorItem);
            });
          });

        // Kontrol durumlarını al
        fetch(`${API_BASE}/controls`)
          .then((response) => response.json())
          .then((controls) => {
            // Kontrol butonlarını güncelle
            Object.keys(controls).forEach((controlName) => {
              updateControlButton(controlName, controls[controlName]);
            });
          });

        // Radyo verilerini al
        fetch(`${API_BASE}/radio`)
          .then((response) => response.json())
          .then((data) => {
            radioData.currentStationIndex = data.current_station;
            radioData.isPlaying = data.is_playing;

            // Ses seviyesini güncelle
            if (data.volume !== undefined) {
              document.getElementById("volumeSlider").value = data.volume;
              document.getElementById("homeVolumeSlider").value = data.volume;
              document.getElementById("mediaVolumeSlider").value = data.volume;
            }

            updateStationDisplay();

            // Play/Pause butonunu güncelle
            const playBtn = document.getElementById("playBtn");
            const homePlayBtn = document.getElementById("homePlayBtn");
            const playIcon = radioData.isPlaying
              ? '<i class="fas fa-pause"></i>'
              : '<i class="fas fa-play"></i>';

            if (playBtn) playBtn.innerHTML = playIcon;
            if (homePlayBtn) homePlayBtn.innerHTML = playIcon;
          });
      });
    </script>
  </body>
</html>
